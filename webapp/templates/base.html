<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>üèãÔ∏è –§–∏—Ç–Ω–µ—Å-WebApp</title>
  <link rel="stylesheet" href="/static/styles.css">
  <script>
  (function() {
    const tg = window.Telegram?.WebApp;
    if (!tg) return;  // –º—ã –Ω–µ –≤ Telegram WebApp-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
    tg.ready();
    const uid = tg.initDataUnsafe?.user?.id;
    if (uid) {
      const url = new URL(window.location.href);
      if (!url.searchParams.has('user_id')) {
        url.searchParams.set('user_id', uid);
        window.location.replace(url.toString());
      }
    }
  })();
  </script>
</head>
<body>
  <header>
    <h1>üèãÔ∏è –§–∏—Ç–Ω–µ—Å-WebApp</h1>
    {% set uid = request.query_params.get("user_id") %}
    {% if uid %}
      <nav>
        <a href="/?user_id={{ uid }}">–ì–ª–∞–≤–Ω–∞—è</a> |
        <a href="/profile?user_id={{ uid }}">–ü—Ä–æ—Ñ–∏–ª—å</a> |
        <a href="/workouts?user_id={{ uid }}">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</a>
      </nav>
    {% else %}
      <p style="color: #a00;">
        ‚ùó –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç–æ WebApp –∏–∑ Telegram (–∫–Ω–æ–ø–∫–æ–π ¬´–û—Ç–∫—Ä—ã—Ç—å WebApp¬ª), —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å.
      </p>
    {% endif %}
    <hr>
  </header>
  <main>
    {% block content %}{% endblock %}
  </main>
  <footer>
    <hr>
    <small>¬© 2025 –§–∏—Ç–Ω–µ—Å-WebApp</small>
  </footer>
</body>
</html>
<!-- Compare this snippet from webapp/templates/home.html: -->
<!--  {% extends "base.html" %} 
 -->
 -->