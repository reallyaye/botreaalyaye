# services/programs.py

from typing import List, Dict

# Шаблоны тренировочных программ на неделю.
# Каждый день — список упражнений с подходами и повторениями.
PROGRAM_TEMPLATES: Dict[str, Dict[str, Dict[str, List[str]]]] = {
    "набор массы": {
        "бодибилдинг": {
            "Понедельник": [
                "Жим лёжа – 4×8–12",
                "Разводка гантелей – 3×12–15",
                "Французский жим – 3×10–12",
            ],
            "Вторник": [
                "Приседания – 4×8–12",
                "Выпады – 3×10–12",
                "Сгибания ног лёжа – 3×12–15",
            ],
            "Среда": ["Отдых"],
            "Четверг": [
                "Тяга верхнего блока – 4×8–12",
                "Тяга гантели в наклоне – 3×10–12",
                "Тяга для спины – 3×12–15",
            ],
            "Пятница": [
                "Армейский жим – 4×8–12",
                "Подъём штанги на бицепс – 3×10–12",
                "Махи гантелями в стороны – 3×12–15",
            ],
            "Суббота": ["Отдых или кардио 30 мин"],
            "Воскресенье": ["Отдых"],
        },
        "пауэрлифтинг": {
            "Понедельник": [
                "Приседания – 5×5",
                "Румынская тяга – 4×6–8",
                "Присед со штангой спереди – 3×6–8",
            ],
            "Вторник": ["Отдых или лёгкое кардио"],
            "Среда": [
                "Жим лёжа – 5×5",
                "Вариации жима – 4×6–8",
                "Разводка гантелей – 3×8–10",
            ],
            "Четверг": ["Отдых"],
            "Пятница": [
                "Становая тяга – 5×5",
                "Тяга штанги в наклоне – 4×6–8",
                "Гиперэкстензии – 3×10–12",
            ],
            "Суббота": ["Отдых или кардио 20–30 мин"],
            "Воскресенье": ["Отдых"],
        },
    },
    "сила": {
        "пауэрлифтинг": {
            "Понедельник": [
                "Приседания – 6×3",
                "Становая тяга– 5×3",
                "Прогрессивная отача нагрузки",
            ],
            "Среда": ["Жим лёжа – 6×3", "Армейский жим – 4×4"],
            "Пятница": ["Становая тяга – 6×3", "Тяга гантели в наклоне – 4×4"],
        },
        # Можно добавить бодибилдинг-версию под силу, если нужно
    },
    "общая физподготовка": {
        "бодибилдинг": {
            "Понедельник": [
                "Приседания с собственным весом – 4×15",
                "Отжимания – 4×15",
                "Подтягивания – 3×макс",
            ],
            "Среда": ["Берпи – 5×10", "Планка – 3×1 мин"],
            "Пятница": ["Скакалка – 5×2 мин", "Велосипед лёжа – 4×30 сек"],
        },
        "пауэрлифтинг": {
            "Понедельник": ["Лёгкие приседания – 3×5", "Жим лёжа – 3×5"],
            "Среда": ["Становая тяга – 3×5", "Гиперэкстензии – 3×10"],
            "Пятница": ["Армейский жим – 3×5", "Тяга блока – 3×8"],
        },
    },
}


def list_goals() -> List[str]:
    """Вернёт список доступных целей."""
    return list(PROGRAM_TEMPLATES.keys())


def list_types(goal: str) -> List[str]:
    """Вернёт список доступных типов для выбранной цели."""
    return list(PROGRAM_TEMPLATES.get(goal, {}).keys())


def get_program(goal: str, p_type: str) -> Dict[str, List[str]]:
    """
    Вернёт словарь «день недели → список упражнений»
    для выбранного goal и type.
    """
    return PROGRAM_TEMPLATES.get(goal, {}).get(p_type, {})
